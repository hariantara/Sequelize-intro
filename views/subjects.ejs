<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <style>
    table {
      font-family:Gill Sans Extrabold, sans-serif;
      position: center;
    }

    td, th {
      border: 1px solid #dddddd;
      text-align: left;
      padding: 1px;
    }

    tr:nth-child(even) {
      background-color: #dddddd;
    }
  </style>
  <title>Subject</title>
  </head>

  <body>
  <center><h3>SUBJECT INFO</h3><center><br>
  <a href="/subject/add"><button type="Submit" name="Add">Add New Subject</button></a>
  <a href="/logout"><button type="Submit" name="Add">Log Out</button></a>
  <br><br>
  <form action="/subject" method="POST">
  <center>
  <table>
    <tr>
      <th>No</th>
      <th><center>Subject Name</center></th>
      <th><center>Teacher</center></th>
      <th colspan='3'><center>Option</center></th>
    </tr>
    <% var k=1; dataSubjects.forEach(subjectData =>{%>
    <tr>
      <td><%=subjectData.id%></td>
      <td><%= subjectData.subject_name %></td>
      <td>

        <% if(subjectData.Teachers[0] == undefined){%> No teacher
        <% }else{
            for(let i = 0; i<subjectData.Teachers.length; i++){%>
              <%= i+1 +". " + (subjectData.Teachers[i].first_name + subjectData.Teachers[i].last_name)%><br>
        <%}}%>

      </td>
      <td><a href="/subject/enroll/<%=subjectData.id%>"><button type="button" name="Enroll">Enroll Student</button></a></td>
      <td><a href="/subject/edit/<%=subjectData.id%>"><button type="button" name="Edit">EDIT</button></a></td>
      <td><a href="/subject/delete/<%=subjectData.id%>"><button type="button" name="Delete">DELETE</button></a></td>
      </tr>
      <%})%>
    </table>
  </center>
    </form>
  </body>
</html>
